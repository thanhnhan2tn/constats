<%@page import="model.dhcp.DHCP"%>
<%@taglib uri="http://www.springframework.org/tags" prefix="spring"%>
<%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<%@page import="model.nic.Eth"%>
<%@page import="model.nic.Nic"%>
<aside class="right-side">
	<!-- Content Header (Page header) -->
	<section class="content-header">
		<h1>
			DHCP Server Config :<small> (${server.serverAddress})</small>
		</h1>


	</section>
	<script>
		
	</script>
	<!--  End Content Header -->
	<!--  Main Content -->
	<section class="content">
		<div class="main-content">
			<%
				DHCP dhcp = (DHCP) request.getAttribute("dhcp");
				if (dhcp != null) {
			%>
			<div style="display: none ${display}" id="login-alert" class="alert alert-danger col-sm-12">${message}</div>
			<div style="display: none ${displaysuccess}" id="login-alert" class="alert alert-success col-sm-12">${message}</div>
			
			<form:form id="dhcp-config-form" modelAttribute="dhcp"
				action="${pageContext.request.contextPath }/serviceconfig/dhcp/save/${server.serverAddress}/${cc }"
				class="form-horizontal" method="POST">
				<input type="hidden" name="cc" value="${cc }">
				<div class="panel panel-default">
					<div class="panel-heading">
						General
					</div>
					<div class="panel-body">
						<div class="form-group">
							<label for="updatestyle" class="col-md-2">DNS update style:</label>
							<div class="col-md-9">
								<label for="dns_update_none">Default/Null </label>
								<form:checkbox path="configchung.dns_update_style"
									id="dns_update_none" />
							</div>
						</div>
						<div class="form-group">
							<label for="updatestyle" class="col-md-2">Authoritative:</label>
							<div class="col-md-9">
								<label for="authoritative_yes">Visible/Null </label>
								<form:checkbox path="configchung.authorative"
									id="authoritative_yes" />
							</div>
						</div>
						<div class="form-group">
							<label for="log_facitily" class="col-md-2">Log facility:</label>
								<div class="col-md-9">
											<form:input class="form-control" path="configchung.log_facitily" placeholder="" />
								</div>
						</div>
						<div class="form-group">
							<label for="domain_name" class="col-md-2">Domain Name:</label>
								<div class="col-md-9">
									<form:input class="form-control" path="configchung.domain_name" placeholder="" />
								</div>
						</div>
						<div class="form-group">
							<label for="domain_name_servers" class="col-md-2">Domain Name Servers:</label>
								<div class="col-md-9">
									<form:input class="form-control" path="configchung.domain_name_servers" placeholder="" />
								</div>
						</div>
						<div class="form-group">
							<label for="default_lease_time" class="col-md-2">Default Lease Time:</label>
								<div class="col-md-9">
									<form:input class="form-control" path="configchung.default_lease_time" placeholder="" />
								</div>
						</div>
						<div class="form-group">
							<label for="max_lease_time" class="col-md-2">Max Lease Time:</label>
								<div class="col-md-9">
									<form:input class="form-control" path="configchung.max_lease_time" placeholder="" />
								</div>
						</div>
						
					</div>
				</div>

				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">
							<a data-toggle="collapse" data-target="#subnet-config">Subnet<i class="glyphicon glyphicon-chevron-down pull-right"></i>
							</a>
						</h3>
					</div>
					<div id="subnet-config" class="panel-collapse collapse">
						<div class="panel-body">
							<div id ="subnet">
								<% for(Subnet subnet : dhcp.getSubnets()) {%>
								<div class="form-group">
									<label for="subnet" class="col-md-2">Subnet:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.subnet" placeholder="Input subnet.." />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">Netmask:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.netmask" placeholder="Input Netmask .." />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">Range:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.range" placeholder="" />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">Domain Name Server:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.domain_name_server" placeholder="" />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">Domain Name Server:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.domain_name_server" placeholder="" />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">Domain Name:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.domain_name" placeholder="" />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">Router Gateway:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.router_gateway" placeholder="" />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">BroadCast Address:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.broadcast_address" placeholder="" />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">Default Lease Time:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.default_lease_time" placeholder="" />
										</div>
								</div>
								<div class="form-group">
									<label for="domain_name" class="col-md-2">Max Lease Time:</label>
										<div class="col-md-9">
											<form:input class="form-control" path="Subnets.max_lease_time" placeholder="" />
										</div>
								</div>
								<%} %>
							</div>
						</div>
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">
							<a data-toggle="collapse" data-target="#hostfixed">HostFixed<i class="glyphicon glyphicon-chevron-down pull-right"></i>
							</a>
						</h3>
					</div>
					<div id="hostfixed" class="panel-collapse collapse">
						<div class="panel-body">dsds</div>
					</div>
				</div>
				
				<form:button type="submit" value="Save" id="savedhcp"/>
				<button type="button" onclick="windows.history.back()" >Back</button>
			</form:form>
			<%
				} else {
			%>
			<div class="panel-body">
				<a class="col-md-4"
					href="${pageContext.request.contextPath }/serviceconfig/dhcpinstall/${server.serverAddress}/${cc}">
					Click here to Install ISC-DHCP-SERVER Service..</a>
			</div>
			<%
				}
			%>
		</div>
	</section>
	<!--  End Main Content -->
</aside>